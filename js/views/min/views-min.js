function init(){var e=new FoodCollection,i=new AppView({collection:e})}var FoodItemView=Backbone.View.extend({tagName:"li",initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){return this.$el.html(this.model.get("servings")+" "+this.model.get("food")+": "+this.model.get("calories")+" calories"),this}}),AppView=Backbone.View.extend({el:$("#foodapp"),events:{"click button#add-food":"createFood","click button#reset":"reset"},initialize:function(){this.list=$("#food-list"),this.input=$("#new-food"),this.listenTo(this.collection,"add",this.addOne),this.listenTo(this.collection,"sync",this.render),this.render()},addOne:function(e){var i=new FoodItemView({model:e});this.list.append(i.render().el)},createFood:function(e){this.input.val()&&(this.collection.create({food:this.input.val(),servings:$("#servings").val(),calories:(999*Math.random()+1)*$("#servings").val()}),this.input.val(""))},reset:function(){this.collection.reset()},render:function(){this.collection.each(function(e){console.log(e)})}});$(function(){init()});